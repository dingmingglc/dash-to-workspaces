/*
 * This file is part of the Dash-To-Panel extension for Gnome 3
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 *
 * Credits:
 * This file is based on code from the Dash to Dock extension by micheleg
 * and code from the Taskbar extension by Zorin OS
 * Some code was also adapted from the upstream Gnome Shell source code.
 */

#dashtopanelTaskbar .dash-item-container > StWidget,
.dashtopanelMainPanel .dash-item-container .show-apps {
	margin: 0;
	padding: 0;
}

#dashtopanelScrollview .overview-tile,
.dashtopanelMainPanel .overview-tile {
	background: none;
}

#dashtopanelScrollview .overview-tile .overview-label {
	/* must match TITLE_RIGHT_PADDING in apppicons.js */
	padding-right: 8px;
	text-align: left;
}

#dashtopanelScrollview .overview-tile:hover .dtp-container,
#dashtopanelScrollview .overview-tile:focus .dtp-container {
	background-color: rgba(238, 238, 236, 0.1);
	border-radius: 0px;
}

#dashtopanelScrollview .overview-tile:hover .dtp-container > .dtp-dots-container,
#dashtopanelScrollview .overview-tile:focus .dtp-container > .dtp-dots-container {
	border-radius: 0px;
}

.dashtopanelMainPanel .dash-item-container .show-apps:hover {
	background-color: rgba(238, 238, 238, 0.1);
}
.dashtopanelMainPanel .dash-item-container .show-apps .overview-icon {
	color: #FFF;
}
.dashtopanelMainPanel .dash-item-container .show-apps:hover .overview-icon {
	background: none;
}

#dashtopanelTaskbar .dash-item-container .overview-tile:hover,
#dashtopanelTaskbar .dash-item-container .overview-tile .dtp-container .overview-icon,
#dashtopanelScrollview .overview-tile:hover .dtp-container.no-highlight,
#dashtopanelScrollview .overview-tile:focus .dtp-container.no-highlight {
	background: none;
}

#dashtopanelScrollview .overview-tile:active .dtp-container {
	background-color: rgba(238, 238, 236, 0.18);
}

#dashtopanelScrollview .overview-tile .favorite {
	background-color: rgba(80, 150, 255, 0.4);
}

#dashtopanelTaskbar .scrollview-fade {
	background-gradient-end: rgba(0, 0, 0, 0);
}

.dashtopanelSecondaryMenu {
	max-width: 400px;
}

.dashtopanelMainPanel.vertical .panel-button {
	text-align: center;
}

.dashtopanelMainPanel.vertical .panel-button.vertical *,
.dashtopanelMainPanel.vertical .panel-button.clock-display * {
	padding: 0;
	margin: 0;
}

.dashtopanelMainPanel.vertical .panel-button > *,
.dashtopanelMainPanel.vertical .panel-button.vertical > *,
.dashtopanelMainPanel.vertical .panel-button.vertical .system-status-icon,
.dashtopanelMainPanel.vertical .panel-button.clock-display > *,
.dashtopanelMainPanel.vertical .panel-button.clock-display .clock {
	padding: 8px 0;
}

.dashtopanelMainPanel.vertical .panel-button.clock-display {
	-natural-hpadding: 0;
	-minimum-hpadding: 0;
}

#dashtopanelThumbnailList {
	spacing: 0em;
	padding: 0 1em;
}

#dashtopanelThumbnailList .popup-menu-item {
	padding: 0;
	border-radius: 5px;
	spacing: 0;
}

#dashtopanelThumbnailList .window-box {
	padding: 0;
	spacing: 0;
}

#dashtopanelThumbnailList .preview-window-title {
	padding-top: 1em;
}

.popup-menu.panel-menu {
	margin-bottom: 0;
}

#panel #panelLeft, #panel #panelCenter {
	spacing: 0px;
}

.showdesktop-button-dark-hovered {
	background-color: rgba(200, 200, 200, .4);
}

.showdesktop-button-light-hovered {
	background-color: rgba(55, 55, 55, .4);
}

#dashtopanelScrollview .badge {
	color: rgba(255, 255, 255, 1);
	padding: 0.2em 0.5em;
	border-radius: 1em;
	font-weight: bold;
	text-align: center;
	margin: 0 0 0 2px;
}

/* Workspace Preview View Styles */
.workspace-preview-view {
  /* 不额外加“黑幕”，让预览区空白背景与任务栏背景一致。
     背景透明度/颜色统一由现有的 Panel 相关设置控制。 */
  background-color: rgba(0, 0, 0, 0);
  border-radius: 0px;
  /* 取消左右 padding（需要更贴边） */
  padding-left: 0px;
  padding-right: 0px;
  /* 上下可保留少量留白，避免贴边过紧 */
  padding-top: 0px;
  padding-bottom: 6px;
  min-width: 220px;
}

.workspace-preview-item {
  background-color: rgba(255, 255, 255, 0.1);
  /* 预留边框宽度，避免激活态出现“抖动”（尺寸变化导致重排） */
  border: 2px solid rgba(0, 0, 0, 0);
  /* ST 里背景默认会画到 border 区域，导致看起来“全部充满”；
     用 padding-box 让边框区域保持透明留白 */
  background-clip: padding-box;
  border-radius: 0px;
  /* 取消 workspace 内部 padding/外边距，交给 spacing 控制 */
  padding: 0px;
  margin: 0px;
  transition-duration: 200ms;
}

.workspace-preview-item:hover {
  background-color: rgba(255, 255, 255, 0.15);
}

.workspace-preview-item-active {
  background-color: rgba(78, 154, 6, 0.3);
  /* 与非激活态保持相同边框宽度，只改变颜色，避免切换时尺寸变化 */
  border: 2px solid rgba(0, 0, 0, 0);
  border-color: rgba(78, 154, 6, 0.6);
  background-clip: padding-box;
  border-radius: 0px;
  padding: 0px;
  margin: 0px;
}

.workspace-preview-area {
  /* 让壁纸背景可见 */
  background-color: rgba(0, 0, 0, 0.0);
  border-radius: 0px;
  overflow: hidden;
  padding: 0px;
}

.workspace-window-thumbnail {
  border-radius: 0px;
  overflow: hidden;
}

.workspace-preview-name {
  text-align: center;
  font-weight: bold;
}

.workspace-preview-badge {
  spacing: 6px;
}

.workspace-preview-app-icons {
  spacing: 4px;
}

.workspace-preview-app-icon {
  padding: 0px;
  margin: 0px;
  background-color: transparent;
}

.workspace-preview-app-icon-clickable {
  padding: 2px;
  margin: 0px;
  border-radius: 4px;
  transition-duration: 150ms;
  background-color: transparent;
}

.workspace-preview-app-icon-clickable:hover {
  background-color: rgba(255, 255, 255, 0.2);
  cursor: pointer;
}

.workspace-preview-app-icon-focused {
  background-color: rgba(255, 255, 255, 0.18);
  border: 1px solid rgba(255, 255, 255, 0.35);
}

.workspace-preview-drop-target {
  border-color: rgba(114, 159, 207, 0.85) !important;
  background-color: rgba(114, 159, 207, 0.12);
}

.workspace-preview-app-more-button {
  padding: 2px;
  margin: 0px;
  border-radius: 4px;
  background-color: transparent;
}

.workspace-preview-app-more-button:hover {
  background-color: rgba(255, 255, 255, 0.2);
}

.workspace-preview-app-more {
  font-size: 11px;
  color: rgba(255,255,255,0.8);
}

#dashtopanelScrollview .number-overlay {
	background-color: rgba(0,0,0,0.8);
}

#dashtopanelScrollview .notification-badge {
	background-color: rgba(214, 0, 0, 0.8);
}

#dashtopanelScrollview .progress-bar {
	/* Customization of the progress bar style, e.g.:
	-progress-bar-background: rgba(0.8, 0.8, 0.8, 1);
	-progress-bar-border: rgba(0.9, 0.9, 0.9, 1); */
}

.symbolic-icon-style {
	-st-icon-style: symbolic;
}


/* border radius, grrr no css variables in ST */
#uiGroup.br4 .dashtopanelPanel.dock,
#uiGroup.br4 .dashtopanelPanel.dock .dashtopanelMainPanel,
#uiGroup.br4 .show-apps,
#uiGroup.br4 .dtp-container,
#uiGroup.br4 .dtp-dots-container,
#uiGroup.br4 #preview-menu, 
#uiGroup.br4 #preview-menu .preview-header-box,
#uiGroup.br4 #preview-menu .preview-container,
#uiGroup.br4 #preview-menu .preview-close-btn-container { 
	border-radius: 4px !important;
	overflow: hidden !important;
}
#uiGroup.br4 .dashtopanelPanel.dock .showdesktop-button { 
	border-radius: 0 4px 4px 0 !important;
}

#uiGroup.br8 .dashtopanelPanel.dock,
#uiGroup.br8 .dashtopanelPanel.dock .dashtopanelMainPanel,
#uiGroup.br8 .show-apps,
#uiGroup.br8 .dtp-container,
#uiGroup.br8 .dtp-dots-container,
#uiGroup.br8 #preview-menu, 
#uiGroup.br8 #preview-menu .preview-header-box,
#uiGroup.br8 #preview-menu .preview-container,
#uiGroup.br8 #preview-menu .preview-close-btn-container { 
	border-radius: 8px !important;
	overflow: hidden !important;
}
#uiGroup.br8 .dashtopanelPanel.dock .showdesktop-button { 
	border-radius: 0 8px 8px 0 !important;
}

#uiGroup.br12 .dashtopanelPanel.dock,
#uiGroup.br12 .dashtopanelPanel.dock .dashtopanelMainPanel,
#uiGroup.br12 .show-apps,
#uiGroup.br12 .dtp-container,
#uiGroup.br12 .dtp-dots-container,
#uiGroup.br12 #preview-menu, 
#uiGroup.br12 #preview-menu .preview-header-box,
#uiGroup.br12 #preview-menu .preview-container,
#uiGroup.br12 #preview-menu .preview-close-btn-container { 
	border-radius: 12px !important;
	overflow: hidden !important;
}
#uiGroup.br12 .dashtopanelPanel.dock .showdesktop-button { 
	border-radius: 0 12px 12px 0 !important;
}

#uiGroup.br16 .dashtopanelPanel.dock,
#uiGroup.br16 .dashtopanelPanel.dock .dashtopanelMainPanel,
#uiGroup.br16 .show-apps,
#uiGroup.br16 .dtp-container,
#uiGroup.br16 .dtp-dots-container,
#uiGroup.br16 #preview-menu, 
#uiGroup.br16 #preview-menu .preview-header-box,
#uiGroup.br16 #preview-menu .preview-container,
#uiGroup.br16 #preview-menu .preview-close-btn-container { 
	border-radius: 16px !important;
	overflow: hidden !important;
}
#uiGroup.br16 .dashtopanelPanel.dock .showdesktop-button { 
	border-radius: 0 16px 16px 0 !important;
}

#uiGroup.br20 .dashtopanelPanel.dock,
#uiGroup.br20 .dashtopanelPanel.dock .dashtopanelMainPanel,
#uiGroup.br20 .show-apps,
#uiGroup.br20 .dtp-container,
#uiGroup.br20 .dtp-dots-container,
#uiGroup.br20 #preview-menu, 
#uiGroup.br20 #preview-menu .preview-header-box,
#uiGroup.br20 #preview-menu .preview-container,
#uiGroup.br20 #preview-menu .preview-close-btn-container { 
	border-radius: 20px !important;
	overflow: hidden !important;
}
#uiGroup.br20 .dashtopanelPanel.dock .showdesktop-button { 
	border-radius: 0 20px 20px 0 !important;
}
